# å¤šè¯­è¨€ç³»ç»Ÿå®æ–½å®ŒæˆæŠ¥å‘Š

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. æ ¸å¿ƒæ¶æ„è®¾ç½®

#### å®‰è£…ä¾èµ–
- âœ… å®‰è£… `next-intl@4.5.8`

#### é…ç½®æ–‡ä»¶
- âœ… `/src/i18n.ts` - next-intl é…ç½®ï¼Œå®šä¹‰æ”¯æŒçš„è¯­è¨€ï¼ˆä¸­æ–‡ã€è‹±æ–‡ï¼‰
- âœ… `/next.config.ts` - é›†æˆ next-intl æ’ä»¶
- âœ… `/src/middleware.ts` - é›†æˆè¯­è¨€è·¯ç”±å’Œè®¤è¯ä¸­é—´ä»¶

#### ç¿»è¯‘æ–‡ä»¶
- âœ… `/messages/zh.json` - ä¸­æ–‡å®Œæ•´ç¿»è¯‘ï¼ˆåŒ…å«æ‰€æœ‰æ¨¡å—ï¼‰
- âœ… `/messages/en.json` - è‹±æ–‡å®Œæ•´ç¿»è¯‘ï¼ˆåŒ…å«æ‰€æœ‰æ¨¡å—ï¼‰

### 2. URL ç»“æ„ (SEO å‹å¥½)

æ‰€æœ‰é¡µé¢ç°åœ¨éƒ½ä½¿ç”¨è¯­è¨€å‰ç¼€çš„ URL ç»“æ„ï¼š

```
/zh/dashboard          # ä¸­æ–‡ä»ªè¡¨æ¿
/en/dashboard          # è‹±æ–‡ä»ªè¡¨æ¿
/zh/community          # ä¸­æ–‡ç¤¾åŒº
/en/community          # è‹±æ–‡ç¤¾åŒº
/zh/admin              # ä¸­æ–‡ç®¡ç†ç•Œé¢
/en/admin              # è‹±æ–‡ç®¡ç†ç•Œé¢
```

è¿™ç§ URL ç»“æ„å¯¹ SEO æå…¶å‹å¥½ï¼Œå› ä¸ºï¼š
- âœ… æ¯ä¸ªè¯­è¨€ç‰ˆæœ¬æœ‰ç‹¬ç«‹çš„ URL
- âœ… æœç´¢å¼•æ“å¯ä»¥æ­£ç¡®ç´¢å¼•ä¸åŒè¯­è¨€ç‰ˆæœ¬
- âœ… ç”¨æˆ·å¯ä»¥ç›´æ¥åˆ†äº«ç‰¹å®šè¯­è¨€çš„é“¾æ¥
- âœ… æµè§ˆå™¨å¯ä»¥æ ¹æ® URL æ­£ç¡®è®¾ç½®é¡µé¢è¯­è¨€

### 3. è·¯ç”±ç»“æ„

```
/src/app/
â”œâ”€â”€ layout.tsx                    # æ ¹å¸ƒå±€ï¼ˆå§”æ‰˜ç»™å­å¸ƒå±€ï¼‰
â”œâ”€â”€ page.tsx                      # æ ¹é¡µé¢ï¼ˆé‡å®šå‘åˆ°é»˜è®¤è¯­è¨€ï¼‰
â””â”€â”€ [locale]/                     # ğŸŒ å¤šè¯­è¨€åŠ¨æ€è·¯ç”±
    â”œâ”€â”€ layout.tsx                # å¤šè¯­è¨€å¸ƒå±€ï¼ˆSEO å…ƒæ•°æ®ï¼‰
    â”œâ”€â”€ (app)/                    # åº”ç”¨è·¯ç”±ç»„
    â”‚   â”œâ”€â”€ layout.tsx            # âœ… åŒ…å«è¯­è¨€åˆ‡æ¢å™¨
    â”‚   â”œâ”€â”€ dashboard/            # âœ… å·²è¿ç§»
    â”‚   â”œâ”€â”€ community/            # âœ… å·²è¿ç§»
    â”‚   â”œâ”€â”€ generate/             # âœ… å·²è¿ç§»
    â”‚   â””â”€â”€ settings/             # âœ… å·²è¿ç§»
    â”œâ”€â”€ (marketing)/              # âœ… å·²è¿ç§»
    â”œâ”€â”€ admin/                    # âœ… å·²è¿ç§»ï¼Œæ”¯æŒ locale
    â”œâ”€â”€ login/                    # âœ… å·²è¿ç§»
    â”œâ”€â”€ signup/                   # âœ… å·²è¿ç§»
    â””â”€â”€ studio/                   # âœ… å·²è¿ç§»
```

### 4. ç»„ä»¶

#### æ–°å»ºç»„ä»¶
- âœ… `/src/components/language-switcher.tsx` - è¯­è¨€åˆ‡æ¢å™¨
  * ä½¿ç”¨ Select ä¸‹æ‹‰èœå•
  * æ˜¾ç¤ºå½“å‰è¯­è¨€
  * åˆ‡æ¢æ—¶ä¿æŒç”¨æˆ·åœ¨åŒä¸€é¡µé¢
  * å·²é›†æˆåˆ°åº”ç”¨å¸ƒå±€çš„é¡¶éƒ¨

- âœ… `/src/components/link.tsx` - å¤šè¯­è¨€ Link ç»„ä»¶
  * è‡ªåŠ¨æ·»åŠ  locale å‰ç¼€
  * ä¿æŒä¸ Next.js Link ç›¸åŒçš„ API
  * ç®€åŒ–å¼€å‘ä½“éªŒ

#### æ›´æ–°çš„ç»„ä»¶
- âœ… `/src/components/dashboard/AppSidebar.tsx` - ä¾§è¾¹æ 
  * ä½¿ç”¨ `useTranslations` é’©å­
  * æ‰€æœ‰æ ‡ç­¾éƒ½æ”¯æŒå¤šè¯­è¨€
  * æ­£ç¡®å¤„ç†å¸¦ locale çš„è·¯ç”±æ¿€æ´»çŠ¶æ€
  * é€€å‡ºç™»å½•é‡å®šå‘åˆ°æ­£ç¡®çš„è¯­è¨€è·¯å¾„

### 5. å¸ƒå±€æ›´æ–°

- âœ… `/src/app/[locale]/(app)/layout.tsx`
  * æ·»åŠ è¯­è¨€åˆ‡æ¢å™¨åˆ°é¡¶éƒ¨æ 
  * æ”¯æŒ params æ¥æ”¶ locale
  * é‡å®šå‘ä½¿ç”¨æ­£ç¡®çš„è¯­è¨€å‰ç¼€

- âœ… `/src/app/[locale]/admin/layout.tsx`
  * æ”¯æŒ params æ¥æ”¶ locale
  * é‡å®šå‘åˆ°æ­£ç¡®è¯­è¨€çš„ç™»å½•å’Œä»ªè¡¨æ¿

- âœ… `/src/app/[locale]/layout.tsx`
  * é›†æˆ NextIntlClientProvider
  * ç”Ÿæˆå¤šè¯­è¨€ SEO å…ƒæ•°æ®
  * è®¾ç½®æ­£ç¡®çš„ HTML lang å±æ€§

### 6. ç¿»è¯‘å†…å®¹

ç¿»è¯‘æ–‡ä»¶åŒ…å«ä»¥ä¸‹å‘½åç©ºé—´ï¼š
- âœ… `common` - é€šç”¨æ–‡æœ¬ï¼ˆç™»å½•ã€æ³¨å†Œã€ä¿å­˜ã€å–æ¶ˆç­‰ï¼‰
- âœ… `nav` - å¯¼èˆªèœå•é¡¹
- âœ… `auth` - è®¤è¯é¡µé¢
- âœ… `dashboard` - ä»ªè¡¨æ¿
- âœ… `projects` - é¡¹ç›®
- âœ… `studio` - å·¥ä½œå®¤
- âœ… `community` - ç¤¾åŒº
- âœ… `settings` - è®¾ç½®
- âœ… `admin` - ç®¡ç†ç•Œé¢
- âœ… `metadata` - SEO å…ƒæ•°æ®

## ğŸ¯ å¦‚ä½•æµ‹è¯•

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev -- -p 3006
```

### 2. è®¿é—®ä¸åŒè¯­è¨€ç‰ˆæœ¬

#### ä¸­æ–‡ç‰ˆæœ¬ï¼ˆé»˜è®¤ï¼‰
```
http://localhost:3006/zh
http://localhost:3006/zh/dashboard
http://localhost:3006/zh/community
```

#### è‹±æ–‡ç‰ˆæœ¬
```
http://localhost:3006/en
http://localhost:3006/en/dashboard
http://localhost:3006/en/community
```

### 3. æµ‹è¯•è¯­è¨€åˆ‡æ¢

1. è®¿é—®ä»»æ„é¡µé¢
2. ç‚¹å‡»å³ä¸Šè§’çš„è¯­è¨€åˆ‡æ¢å™¨ï¼ˆåœ°çƒå›¾æ ‡ï¼‰
3. é€‰æ‹©å…¶ä»–è¯­è¨€
4. é¡µé¢åº”è¯¥åˆ·æ–°å¹¶æ˜¾ç¤ºæ–°è¯­è¨€
5. URL åº”è¯¥æ›´æ–°ä¸ºåŒ…å«æ–°çš„è¯­è¨€ä»£ç 
6. æ‰€æœ‰æ–‡æœ¬åº”è¯¥åˆ‡æ¢åˆ°æ–°è¯­è¨€

### 4. æµ‹è¯• SEO

#### æ£€æŸ¥ HTML lang å±æ€§
åœ¨æµè§ˆå™¨ä¸­å³é”®ç‚¹å‡» -> æŸ¥çœ‹æºä»£ç ï¼š
- ä¸­æ–‡é¡µé¢åº”è¯¥æ˜¾ç¤º `<html lang="zh">`
- è‹±æ–‡é¡µé¢åº”è¯¥æ˜¾ç¤º `<html lang="en">`

#### æ£€æŸ¥å…ƒæ•°æ®
åœ¨é¡µé¢æºä»£ç ä¸­æ£€æŸ¥ï¼š
- `<title>` æ ‡ç­¾åº”è¯¥æ˜¯å¯¹åº”è¯­è¨€çš„æ ‡é¢˜
- å…ƒæè¿°åº”è¯¥æ˜¯å¯¹åº”è¯­è¨€çš„æè¿°

## ğŸ“š å¼€å‘æŒ‡å—

### åœ¨é¡µé¢ä¸­ä½¿ç”¨ç¿»è¯‘

#### æœåŠ¡ç«¯ç»„ä»¶ï¼ˆæ¨èï¼‰
```tsx
import { getTranslations } from 'next-intl/server';

export default async function Page({ 
  params 
}: { 
  params: Promise<{ locale: string }> 
}) {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'dashboard' });

  return <h1>{t('title')}</h1>;
}
```

#### å®¢æˆ·ç«¯ç»„ä»¶
```tsx
'use client';

import { useTranslations } from 'next-intl';

export function Component() {
  const t = useTranslations('dashboard');
  return <h1>{t('title')}</h1>;
}
```

### ä½¿ç”¨å¤šè¯­è¨€ Link
```tsx
import { Link } from '@/components/link';

// ä¼šè‡ªåŠ¨å˜æˆ /zh/dashboard æˆ– /en/dashboard
<Link href="/dashboard">Dashboard</Link>
```

### æ·»åŠ æ–°ç¿»è¯‘

1. æ‰“å¼€ `/messages/zh.json` å’Œ `/messages/en.json`
2. åœ¨ç›¸åº”çš„å‘½åç©ºé—´ä¸‹æ·»åŠ æ–°é”®ï¼š
```json
{
  "dashboard": {
    "newKey": "æ–°æ–‡æœ¬"
  }
}
```
3. åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š
```tsx
const t = useTranslations('dashboard');
t('newKey')
```

## ğŸ”„ ä¸‹ä¸€æ­¥å»ºè®®

### çŸ­æœŸ
1. âœ… æµ‹è¯•æ‰€æœ‰é¡µé¢ç¡®ä¿æ— é”™è¯¯
2. âš ï¸ ä¸ºæ‰€æœ‰ç¡¬ç¼–ç æ–‡æœ¬æ·»åŠ ç¿»è¯‘
3. âš ï¸ æ›´æ–°æ‰€æœ‰å‰©ä½™çš„ `next/link` ä¸º `@/components/link`
4. âš ï¸ æ›´æ–°ç™»å½•å’Œæ³¨å†Œé¡µé¢ä»¥ä½¿ç”¨ç¿»è¯‘

### ä¸­æœŸ
1. âš ï¸ ä¸ºé¦–é¡µæ·»åŠ å®Œæ•´ç¿»è¯‘
2. âš ï¸ ä¸º admin é¡µé¢æ·»åŠ ç¿»è¯‘
3. âš ï¸ ä¸º studio é¡µé¢æ·»åŠ ç¿»è¯‘
4. âš ï¸ æµ‹è¯•æ‰€æœ‰è¡¨å•éªŒè¯æ¶ˆæ¯

### é•¿æœŸ
1. âš ï¸ æ·»åŠ æ›´å¤šè¯­è¨€ï¼ˆæ—¥è¯­ã€éŸ©è¯­ç­‰ï¼‰
2. âš ï¸ å®æ–½ sitemap.xml å¤šè¯­è¨€æ”¯æŒ
3. âš ï¸ æ·»åŠ  hreflang æ ‡ç­¾
4. âš ï¸ å®æ–½è¯­è¨€æ£€æµ‹ï¼ˆåŸºäºæµè§ˆå™¨è®¾ç½®ï¼‰
5. âš ï¸ æ·»åŠ è¯­è¨€é€‰æ‹©çš„æŒä¹…åŒ–ï¼ˆcookieï¼‰

## ğŸ¨ SEO ä¼˜åŒ–åŠŸèƒ½

### å·²å®ç°
- âœ… è¯­è¨€å‰ç¼€ URLï¼ˆ/zh/ã€/en/ï¼‰
- âœ… æ­£ç¡®çš„ HTML lang å±æ€§
- âœ… å¤šè¯­è¨€å…ƒæ•°æ®ï¼ˆtitleã€descriptionï¼‰
- âœ… ä¸­é—´ä»¶è‡ªåŠ¨è¯­è¨€è·¯ç”±
- âœ… é™æ€ç”Ÿæˆæ”¯æŒï¼ˆgenerateStaticParamsï¼‰

### å»ºè®®è¡¥å……
- âš ï¸ hreflang æ ‡ç­¾ï¼ˆå‘Šè¯‰æœç´¢å¼•æ“ä¸åŒè¯­è¨€ç‰ˆæœ¬çš„å…³ç³»ï¼‰
- âš ï¸ Open Graph å¤šè¯­è¨€æ”¯æŒ
- âš ï¸ åŠ¨æ€ sitemap.xml
- âš ï¸ robots.txt ä¼˜åŒ–
- âš ï¸ ç»“æ„åŒ–æ•°æ®ï¼ˆJSON-LDï¼‰å¤šè¯­è¨€æ”¯æŒ

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [I18N_GUIDE.md](./I18N_GUIDE.md) - è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—
- [next-intl æ–‡æ¡£](https://next-intl-docs.vercel.app/)
- [Next.js å›½é™…åŒ–](https://nextjs.org/docs/app/building-your-application/routing/internationalization)

## âš¡ æ€§èƒ½

- âœ… ç¿»è¯‘æ–‡ä»¶æŒ‰éœ€åŠ è½½ï¼ˆåªåŠ è½½å½“å‰è¯­è¨€ï¼‰
- âœ… æ”¯æŒé™æ€ç”Ÿæˆï¼ˆSSGï¼‰
- âœ… æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰
- âœ… å®¢æˆ·ç«¯ç»„ä»¶ä»…åŠ è½½å¿…è¦çš„ç¿»è¯‘

## ğŸš€ ç”Ÿäº§éƒ¨ç½²

åœ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå‰ï¼š

1. ç¡®ä¿æ‰€æœ‰ç¿»è¯‘æ–‡ä»¶å®Œæ•´
2. æµ‹è¯•æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬
3. éªŒè¯ SEO å…ƒæ•°æ®
4. æ£€æŸ¥æ€§èƒ½æŒ‡æ ‡
5. è®¾ç½®æ­£ç¡®çš„è¯­è¨€é‡å®šå‘è§„åˆ™

## æ”¯æŒçš„è¯­è¨€

å½“å‰æ”¯æŒï¼š
- ğŸ‡¨ğŸ‡³ ä¸­æ–‡ (zh) - é»˜è®¤
- ğŸ‡ºğŸ‡¸ English (en)

å¯è½»æ¾æ‰©å±•åˆ°æ›´å¤šè¯­è¨€ï¼
